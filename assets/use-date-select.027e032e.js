import{r as c}from"./vendor.6ec624d3.js";const b=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function t(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerpolicy&&(u.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?u.credentials="include":n.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(n){if(n.ep)return;n.ep=!0;const u=t(n);fetch(n.href,u)}};b();function p(e,o){if(e>o)return p(o,e).reverse();const t=[];for(let a=e;a<=o;a++)t.push(a);return t}function y(e,o){return("0".repeat(o-1)+e.toString()).slice(-o)}function v(e,o,t){if(o<1||12<o||t<1||31<t)return null;const a=y(e,4)+"-"+y(o,2)+"-"+y(t,2),n=new Date(a);return n.getFullYear()!==e||n.getMonth()!==o-1||n.getDate()!==t?null:a}function C(e){const o=new Date(e),t=o.getFullYear(),a=o.getMonth()+1,n=o.getDate();return isNaN(t)||isNaN(a)||isNaN(n)?{year:"",month:"",day:""}:{year:t.toString(),month:a.toString(),day:n.toString()}}const N=1960,M=new Date().getFullYear();function h(e){return parseInt(e)}function d(e){return e.toString()}function V(e){return{value:e,label:e}}const O=p(1,12).map(e=>V(d(e))),A=p(1,31).map(e=>V(d(e))),L=(e,o,t={})=>{const[a,n]=c.exports.useState({yearValue:t.defaultYear?d(t.defaultYear):"",monthValue:t.defaultMonth?d(t.defaultMonth):"",dayValue:t.defaultDay?d(t.defaultDay):"",dateString:null,changeCount:0}),u=c.exports.useCallback(({year:r,month:l,day:i})=>{n(s=>{const f=r!=null?r:s.yearValue,x=l!=null?l:s.monthValue,S=i!=null?i:s.dayValue,Y=v(h(f),h(x),h(S));return{yearValue:f,monthValue:x,dayValue:S,dateString:Y,changeCount:s.changeCount+1}})},[]),g=c.exports.useCallback(r=>{const{year:l,month:i,day:s}=C(r);n(f=>({yearValue:l,monthValue:i,dayValue:s,dateString:r,changeCount:f.changeCount}))},[]),m=c.exports.useRef(!1);c.exports.useEffect(()=>{!m.current||o(a.dateString||"")},[a.changeCount]),c.exports.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),c.exports.useEffect(()=>{if(typeof e!="string")return;(a.dateString||"")!==e&&g(e)},[g,e]);const D=c.exports.useMemo(()=>{const r=t.minYear!=null?t.minYear:N,l=t.maxYear!=null?t.maxYear:M,i=p(r,l).map(s=>{const f=d(s);return{value:f,label:f}});return i.some(s=>s.value===a.yearValue)?i:i.concat(V(a.yearValue))},[t.minYear,t.maxYear,a.yearValue]);return{yearValue:a.yearValue,monthValue:a.monthValue,dayValue:a.dayValue,yearOptions:D,monthOptions:O,dayOptions:A,onYearChange:c.exports.useCallback(r=>{const l=typeof r=="string"?r:r.target.value;u({year:l})},[u]),onMonthChange:c.exports.useCallback(r=>{const l=typeof r=="string"?r:r.target.value;u({month:l})},[u]),onDayChange:c.exports.useCallback(r=>{const l=typeof r=="string"?r:r.target.value;u({day:l})},[u]),dateValue:a.dateString,onDateChange:c.exports.useCallback(r=>{const l=typeof r=="string"?r:r.target.value,{year:i,month:s,day:f}=C(l);u({year:i,month:s,day:f})},[u]),setDate:g}};export{L as u};
